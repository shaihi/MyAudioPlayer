<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖注专 注砖: BroadcastReceiver -Android</title>
    <!-- 注转 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 专转 驻 Inter 专专转  -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .code-block {
            background-color: #1e293b;
            color: #f8fafc;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            direction: ltr; /* 拽 转 砖  */
        }
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body class="p-4 sm:p-8 min-h-screen flex items-center justify-center">

    <div id="lessonContainer" class="bg-white shadow-2xl rounded-xl w-full max-w-4xl p-6 sm:p-10 transition-all duration-500 transform border-t-8 border-indigo-600" dir="rtl">

        <!-- 转专转 砖注专 拽专 转拽转 -->
        <div class="mb-6 border-b pb-4">
            <h1 class="text-3xl font-extrabold text-gray-900 mb-2" id="lessonTitle"></h1>
            <p class="text-sm text-indigo-600 font-semibold" id="slideIndicator"></p>
        </div>

        <!-- 转 砖拽驻转 转 -->
        <div id="slideContent" class="space-y-6">
            <!-- 转专转 砖拽驻转 -->
            <h2 class="text-2xl font-bold text-gray-800" id="slideHeadline"></h2>

            <!-- 转专 注 -->
            <div id="slideDescription" class="text-gray-600 leading-relaxed text-lg space-y-4"></div>

            <!-- 拽 (爪 专拽  拽) -->
            <div id="slideCodeContainer" class="hidden">
                <p class="text-sm font-semibold text-gray-700 mb-2">拽 注转拽:</p>
                <div class="code-block">
                    <pre id="slideCode"></pre>
                </div>
            </div>

            <!-- 砖/专 转 -->
            <div id="slideTaskContainer" class="p-4 bg-yellow-50 border-r-4 border-yellow-400 rounded-lg">
                <h3 class="font-bold text-lg text-yellow-800 mb-1"> 砖 砖:</h3>
                <p class="text-yellow-700" id="slideTask"></p>
            </div>
        </div>

        <!-- 驻转专  -->
        <div class="mt-8 pt-6 border-t flex justify-between">
            <button id="prevButton" class="px-6 py-3 bg-gray-300 text-gray-800 font-bold rounded-full shadow-md hover:bg-gray-400 transition-all duration-300 disabled:opacity-50" disabled>
                专
            </button>
            <button id="nextButton" class="px-6 py-3 bg-indigo-600 text-white font-bold rounded-full shadow-lg hover:bg-indigo-700 transition-all duration-300 hover:scale-105">
                
            </button>
        </div>

    </div>

    <script>
        // 专转 转 砖注专
        const LESSON_TITLE = "砖注专 注砖: BroadcastReceiver -Android -Java";

        const slides = [
            {
                headline: "专  砖注专 注砖! ",
                description: "<p>砖注专   爪 转 驻拽爪转 Android 砖转 转 砖 专砖转 -Wi-Fi 砖 砖专.</p><p class='font-bold mt-2'>专:</p><ul><li class='list-disc pr-4'>  BroadcastReceiver.</li><li class='list-disc pr-4'>爪注 专砖  -Receiver.</li><li class='list-disc pr-4'>转拽砖专  Receiver 驻注转 (Activity).</li></ul>",
                code: null,
                task: " 砖-Android Studio 驻转 砖  驻专拽 Java 住住 . 转 注 转.",
                time: " 拽爪: 5 拽转"
            },
            {
                headline: "砖 1: 专砖转 (Permissions)",
                description: "<p> 砖驻拽爪 转 '专专' 专 砖 专砖转, 注 拽砖 专砖转 注专转.</p><p>拽抓 <code>AndroidManifest.xml</code>  '专' 砖 驻拽爪 砖.</p>",
                code: `<!-- 住祝 专砖转  抓 转 <application> -->
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />`,
                task: "注转拽 转 砖转 专砖转 住祝 转 拽抓 <code>AndroidManifest.xml</code>.",
                time: " 拽爪: 5 拽转"
            },
            {
                headline: "砖 2: 注爪 住住 (Layout)",
                description: "<p> 拽 注 住 砖  爪 转 住住 -Wi-Fi 注.</p><p>砖转砖 -<code>TextView</code> 拽抓 <code>activity_main.xml</code>.</p>",
                code: `<!-- 转 ConstraintLayout  Layout 专, 住祝: -->
<TextView
    android:id="@+id/wifiStatusTextView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="爪 Wi-Fi:  注"
    android:textSize="24sp"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintLeft_toLeftOf="parent"
    app:layout_constraintRight_toRightOf="parent"
    app:layout_constraintTop_toTopOf="parent" />`,
                task: "住祝 转 -<code>TextView</code> 注 -ID <code>wifiStatusTextView</code> 拽抓 -Layout 砖.",
                time: " 拽爪: 5 拽转"
            },
            {
                headline: "砖 3: 转转 -Receiver 注 Listener",
                description: `
                    <p class="font-bold text-indigo-700">1. 爪专转 拽 (-Android Studio):</p>
                    <ol class="list-decimal pr-6 space-y-2">
                        <li>  驻专拽 (Project Window) 住驻专转 -Java 砖 驻拽爪 砖.</li>
                        <li>抓 拽拽  注 砖  (: <code>com.example.myapp</code>).</li>
                        <li>专: <strong>New</strong> &rarr; <strong>Java Class</strong>.</li>
                        <li>转 拽 转 砖: <strong><code>WifiChangeReceiver</code></strong>.</li>
                    </ol>

                    <p class="font-bold text-indigo-700 mt-4">2.  砖拽 (Interface)   砖?</p>
                    <p>砖拽  '' 转转 专 拽爪转 驻注转 (转转) 砖 拽 砖转 转 转 住驻拽.  </p>
                    <ul>
                        <li class='list-disc pr-4'><strong>  爪专 转?</strong> -<code>BroadcastReceiver</code> 驻注 专拽注   砖 砖专 -UI 砖 -<code>Activity</code>.</li>
                        <li class='list-disc pr-4'>-<code>Listener</code> (砖拽) 驻砖专 -<code>Receiver</code> '砖专' 转 住住, -<code>Activity</code> 砖砖转 转 '' (-Listener) 拽转 转 砖专  注 转 住 .</li>
                    </ul>
                    <p class="mt-4">注转, 注转拽 转 拽  砖拽  转.</p>
                `,
                code: `import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;

public class WifiChangeReceiver extends BroadcastReceiver {

    // 1. 砖拽 转拽砖专转 (Listener)
    public interface WifiStatusListener {
        void onWifiStatusChange(String status);
    }

    private WifiStatusListener listener;

    // 拽住专拽专 拽 转 -Listener (-Activity 砖)
    public WifiChangeReceiver(WifiStatusListener listener) {
        this.listener = listener;
    }
    
    //  砖 转 转转 onReceive
    @Override
    public void onReceive(Context context, Intent intent) {
        // 拽 转注 砖拽驻转 ...
    }
}`,
                task: "爪专 拽抓 Java 砖 砖 <code>WifiChangeReceiver.java</code> 注转拽 转 拽  -<code>interface</code>.",
                time: " 拽爪: 15 拽转"
            },
            {
                headline: "砖 4: 拽转 onReceive",
                description: `
                    <p> 拽 转 爪 拽砖专转 驻注 注专 转 转爪 -Activity 爪注转 -<code>listener</code>.</p>
                    
                    <p class="font-bold text-indigo-700 mt-4"> '专' (Casting):</p>
                    <p>砖专 <code>(ConnectivityManager) context.getSystemService(...)</code> 专砖转 专 驻专砖转. 住   砖转 <code>context.getSystemService(...)</code>  转 专转 砖专 拽 住  <code>Object</code> (专转 住转).  砖 砖转砖 转转 住驻爪驻转 砖 <code>ConnectivityManager</code> ( <code>getNetworkInfo</code>), 专 砖 Java 专砖 砖专 驻 驻专砖  住 住驻爪驻  专 转 拽 专. </p>
                    
                    <p class="mt-4">注转, 注 砖 转 拽 砖转砖转砖  砖住驻拽:</p>
                `,
                code: `// 转 转转 onReceive(Context context, Intent intent)

// 专 专 砖专转:
ConnectivityManager connManager = 
    (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);

// 拽转 注 注 专砖转 -Wi-Fi (砖转 砖 转砖转砖):
NetworkInfo wifiInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);

// 砖转 砖 转 住住 住驻:
String currentStatus = "拽..."; 

// --- 砖  转 拽 砖! ---
// 专: 砖转砖 -if/else 转 wifiInfo.isConnected()
/*
if (wifiInfo != null && wifiInfo.isConnected()) {
    currentStatus = "专 -Wi-Fi! ";
} else {
    currentStatus = "Wi-Fi 转拽. ";
}
*/
// --- 住祝 拽 ---

// 砖砖 -Listener  注 转 -Activity
if (listener != null) {
    listener.onWifiStatusChange(currentStatus);
}`,
                task: "砖 转 拽 -<code>onReceive()</code>! 注 砖转砖 -<code>wifiInfo</code> (砖专 专)  拽  -Wi-Fi 专  转拽, 注 转 砖转 <code>currentStatus</code> 转. 专 砖转砖 拽 <code>wifiInfo.isConnected()</code>.",
                time: " 拽爪: 20 拽转"
            },
            {
                headline: "砖 5: 转 -Activity",
                description: "<p>-<code>MainActivity</code> 爪专 砖 转 砖拽 砖爪专  拽 转 住住 -<code>Receiver</code>.</p><p>住祝, 转 转 -<code>TextView</code> -<code>Receiver</code> -<code>onCreate</code>.</p>",
                code: `// ... imports

public class MainActivity extends AppCompatActivity implements WifiChangeReceiver.WifiStatusListener {

    private TextView wifiStatusTextView;
    private WifiChangeReceiver wifiReceiver;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        
        wifiStatusTextView = findViewById(R.id.wifiStatusTextView);
        
        // 爪专转 Receiver 注专转 'this' -Listener
        wifiReceiver = new WifiChangeReceiver(this); 
    }
    
    // 砖 转 转 砖拽 - 注 -UI
    @Override
    public void onWifiStatusChange(String status) {
        wifiStatusTextView.setText("爪 Wi-Fi: " + status);
    }
    
    // ... 砖 砖  注 onResume -onPause
}`,
                task: "注 转 <code>MainActivity.java</code>: 住祝 转 -<code>implements</code>, 转 -<code>onCreate</code>, 砖 转 转 <code>onWifiStatusChange</code>.",
                time: " 拽爪: 10 拽转"
            },
            {
                headline: "砖 6: 专砖  砖专专 砖",
                description: "<p> 转 注 注 驻转 专, 砖转砖 专  砖 -Activity:</p><ul><li class='list-disc pr-4'><strong><code>onResume()</code>:</strong> 专砖 -Receiver (Register) 砖住 .</li><li class='list-disc pr-4'><strong><code>onPause()</code>:</strong>  专砖 -Receiver (Unregister) 砖住 注专 专拽注.</li></ul>",
                code: `// 转 MainActivity.java

@Override
protected void onResume() {
    super.onResume();
    
    // 爪专转 IntentFilter 爪  'Action' 
    IntentFilter filter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);
    
    // 专砖  转爪注 :
    registerReceiver(wifiReceiver, filter);
}

@Override
protected void onPause() {
    super.onPause();
    
    //  专砖 砖专专 砖 转爪注 :
    unregisterReceiver(wifiReceiver);
}`,
                task: "住祝 转 转转 <code>onResume()</code> -<code>onPause()</code> -<code>MainActivity</code> 爪注 专砖  砖专专 砖 .",
                time: " 拽爪: 15 拽转"
            },
            {
                headline: "砖 7: 拽 转 И",
                description: "<p class='font-bold text-xl'>注转 注 砖 专爪 拽!</p><p> 砖转 转 专砖 住 -<code>AndroidManifest.xml</code>  注砖转 转 注转 (拽 转  转 -<code><receiver></code>).</p>",
                code: null,
                task: "1. 专抓 转 驻拽爪 注 专  砖专.\n2. 注专 专转 砖专  拽 转 -Wi-Fi.\n3.  砖拽住 -<code>TextView</code> 转注 转!",
                time: " 拽爪: 10 拽转"
            },
            {
                headline: "砖 8: 转 砖专专 砖",
                description: "<p>砖  砖砖专专 砖 注,  注 驻转 专 (Memory Leaks).</p><p class='font-bold'>拽 住驻转:</p>",
                code: null,
                task: "1. 砖驻拽爪 驻注转, 抓 注 驻转专 转 (注专 专拽注).\n2.  拽 Wi-Fi 砖 专转 砖专.\n3. 专 驻拽爪:  -Receiver 注 ,  转拽 注 注 砖 -Wi-Fi 注 砖转专 住.",
                time: " 拽爪: 5 拽转"
            },
            {
                headline: "住 住祝 砖注专! ",
                description: "<p> ! 转 爪 转 专 Android 砖 砖驻砖专 驻拽爪 砖  专注 爪 爪专 注 住转 砖.</p><p class='font-bold text-indigo-700 mt-4'> 转:</p><ul><li class='list-disc pr-4'> BroadcastReceiver.</li><li class='list-disc pr-4'>专砖  (<code>onResume</code>/<code>onPause</code>).</li><li class='list-disc pr-4'>转拽砖专转  专 爪注转 砖拽 (Listener).</li></ul>",
                code: null,
                task: "<strong>转专 砖:</strong> 拽 砖转 转 拽住, 住 砖转 转 爪注 专拽注 砖 -Activity 砖专 -Wi-Fi 专 (, 专拽).",
                time: " 拽爪: 5 拽转"
            }
        ];

        let currentSlideIndex = 0;

        const lessonTitleEl = document.getElementById('lessonTitle');
        const slideIndicatorEl = document.getElementById('slideIndicator');
        const slideHeadlineEl = document.getElementById('slideHeadline');
        const slideDescriptionEl = document.getElementById('slideDescription');
        const slideCodeContainerEl = document.getElementById('slideCodeContainer');
        const slideCodeEl = document.getElementById('slideCode');
        const slideTaskEl = document.getElementById('slideTask');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');

        function updateSlide() {
            const slide = slides[currentSlideIndex];

            // 注 转专转 专砖转 拽专
            lessonTitleEl.textContent = LESSON_TITLE;
            slideIndicatorEl.textContent = `砖 ${currentSlideIndex + 1} 转 ${slides.length} | ${slide.time}`;

            // 注 转 砖拽驻转
            slideHeadlineEl.textContent = slide.headline;
            slideDescriptionEl.innerHTML = slide.description;
            slideTaskEl.innerHTML = slide.task;

            // 注 拽
            if (slide.code) {
                slideCodeEl.textContent = slide.code.trim();
                slideCodeContainerEl.classList.remove('hidden');
            } else {
                slideCodeContainerEl.classList.add('hidden');
            }

            // 注 驻转专 
            prevButton.disabled = currentSlideIndex === 0;
            nextButton.textContent = currentSlideIndex === slides.length - 1 ? '住 砖注专' : '';
            nextButton.disabled = false;
        }

        function handleNext() {
            if (currentSlideIndex < slides.length - 1) {
                currentSlideIndex++;
                updateSlide();
            } else {
                // 住 砖注专 - 转 住祝  拽转 住
                // 砖砖 爪 驻转 拽 alert
                const container = document.getElementById('lessonContainer');
                container.innerHTML = `
                    <div class="p-8 text-center">
                        <h2 class="text-4xl font-extrabold text-green-600 mb-4">  ! </h2>
                        <p class="text-xl text-gray-700">住转 转 砖注专 -BroadcastReceiver 爪.</p>
                        <p class="mt-4 text-gray-500">转  转专 .</p>
                    </div>
                `;
            }
        }

        function handlePrev() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                updateSlide();
            }
        }

        // 住驻转 Event Listeners 驻转专
        nextButton.addEventListener('click', handleNext);
        prevButton.addEventListener('click', handlePrev);

        // 注转 砖拽驻转 专砖
        updateSlide();
    </script>
</body>
</html>
